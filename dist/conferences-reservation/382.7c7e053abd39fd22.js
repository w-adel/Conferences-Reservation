"use strict";(self.webpackChunkconferences_reservation=self.webpackChunkconferences_reservation||[]).push([[382],{3382:(k,h,a)=>{a.r(h),a.d(h,{BusesModule:()=>L});var v=a(9116),C=a(7974),r=a(671),f=a(7585),m=a(9406),c=a(4006),d=a(5412),t=a(4650),Z=a(6895),p=a(4859),_=a(7392),S=a(4144),g=a(9549),B=a(9383);function T(e,o){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"validations.requiredField")," "))}function y(e,o){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"validations.requiredField")," "))}let x=(()=>{class e{constructor(n,i,s,l,u,j){this.dialogRef=n,this.formBuilder=i,this.fireStoreService=s,this.notifyService=l,this.translationService=u,this.data=j,this.form=this.formBuilder.group({name:["",c.kI.required],price:["",[c.kI.required,c.kI.min(0)]]})}ngOnInit(){this.patchForm()}save(n){this.form.valid&&(this.data?this.update():this.add())}close(n=!1){this.dialogRef.close({fireRefresh:n})}patchForm(){this.data&&this.form.patchValue({id:this.data.id,name:this.data.name,price:this.data.price})}add(){this.fireStoreService.addDoc(f.g.RealtimeDatabase.buses,this.form.value).subscribe(()=>{this.close(!0),this.notifyService.showNotifier(this.translationService.instant("notifications.createdSuccessfully"))})}update(){this.fireStoreService.updateDoc(`${f.g.RealtimeDatabase.buses}/${this.data.id}`,this.form.value).subscribe(()=>{this.close(!0),this.notifyService.showNotifier(this.translationService.instant("notifications.updatedSuccessfully"))})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(d.so),t.Y36(c.qu),t.Y36(m.TB),t.Y36(m.c),t.Y36(m.D7),t.Y36(d.WI))},e.\u0275cmp=t.Xpm({type:e,selectors:[["ng-component"]],decls:27,vars:15,consts:[["mat-dialog-title","",1,"d-flex","justify-content-between","align-content-center"],[1,"font-weight-bold"],[1,"p-0","d-flex","justify-content-cener","align-items-center",3,"click"],["mat-dialog-content",""],["novalidate","",3,"formGroup"],["categoryForm","ngForm"],[1,"w-100"],["type","text","matInput","","formControlName","name","inputmode","text"],[4,"ngIf"],["type","text","matInput","","formControlName","price","inputmode","numeric"],["mat-dialog-actions",""],["color","primary","mat-flat-button","","type","button","cdkFocusInitial","",3,"click"]],template:function(n,i){if(1&n){const s=t.EpF();t.TgZ(0,"div",0)(1,"div",1),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"button",2),t.NdJ("click",function(){return i.close()}),t.TgZ(5,"mat-icon"),t._uU(6,"close"),t.qZA()()(),t.TgZ(7,"div",3)(8,"form",4,5)(10,"mat-form-field",6)(11,"mat-label"),t._uU(12),t.ALo(13,"translate"),t.qZA(),t._UZ(14,"input",7),t.YNc(15,T,3,3,"mat-error",8),t.qZA(),t.TgZ(16,"mat-form-field",6)(17,"mat-label"),t._uU(18),t.ALo(19,"translate"),t.qZA(),t._UZ(20,"input",9),t.YNc(21,y,3,3,"mat-error",8),t.qZA()()(),t.TgZ(22,"div",10)(23,"button",11),t.NdJ("click",function(){t.CHM(s);const u=t.MAs(9);return t.KtG(i.save(u))}),t.TgZ(24,"span"),t._uU(25),t.ALo(26,"translate"),t.qZA()()()}2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,7,i.data?"common.update":"common.add")),t.xp6(6),t.Q6J("formGroup",i.form),t.xp6(4),t.Oqu(t.lcZ(13,9,"common.name")),t.xp6(3),t.Q6J("ngIf",i.form.get("name").hasError("required")),t.xp6(3),t.Oqu(t.lcZ(19,11,"common.price")),t.xp6(3),t.Q6J("ngIf",i.form.get("price").hasError("required")),t.xp6(4),t.hij(" ",t.lcZ(26,13,"common.save"),""))},dependencies:[c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u,Z.O5,p.lW,d.uh,d.xY,d.H8,_.Hw,S.Nt,g.KE,g.hX,g.TO,B.X$],encapsulation:2}),e})();var A=a(536);function b(e,o){1&e&&(t.TgZ(0,"th",18),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"common.name")))}function D(e,o){if(1&e&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.Oqu(n.name)}}function N(e,o){1&e&&(t.TgZ(0,"th",18),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"common.price")))}function Y(e,o){if(1&e&&(t.TgZ(0,"td",20),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.Oqu(n.price)}}function M(e,o){1&e&&t._UZ(0,"th",18)}function U(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"td",21)(1,"div",22)(2,"button",23),t.NdJ("click",function(){const l=t.CHM(n).$implicit,u=t.oxw(2);return t.KtG(u.update(l))}),t.TgZ(3,"mat-icon"),t._uU(4,"edit"),t.qZA()(),t.TgZ(5,"button",24),t.NdJ("click",function(){const l=t.CHM(n).$implicit,u=t.oxw(2);return t.KtG(u.delete(l))}),t.TgZ(6,"mat-icon"),t._uU(7,"delete"),t.qZA()()()()}}function w(e,o){1&e&&t._UZ(0,"tr",25)}function J(e,o){1&e&&t._UZ(0,"tr",26)}const R=function(){return[5,10,20]};function I(e,o){if(1&e&&(t.TgZ(0,"div",5)(1,"div",6)(2,"table",7),t.ynx(3,8),t.YNc(4,b,3,3,"th",9),t.YNc(5,D,2,1,"td",10),t.BQk(),t.ynx(6,11),t.YNc(7,N,3,3,"th",9),t.YNc(8,Y,2,1,"td",12),t.BQk(),t.ynx(9,13),t.YNc(10,M,1,0,"th",9),t.YNc(11,U,8,0,"td",14),t.BQk(),t.YNc(12,w,1,0,"tr",15),t.YNc(13,J,1,0,"tr",16),t.qZA()(),t._UZ(14,"mat-paginator",17),t.qZA()),2&e){const n=t.oxw();t.xp6(2),t.Q6J("dataSource",n.dataSource),t.xp6(10),t.Q6J("matHeaderRowDef",n.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(5,R))("length",n.dataSource.data.length)}}function q(e,o){1&e&&t._UZ(0,"app-empty-data")}const F=[{path:"",component:(()=>{class e{constructor(n,i,s,l){this.fireStoreService=n,this.dialogService=i,this.notifyService=s,this.translationService=l,this.displayedColumns=["name","price","actions"],this.dataSource=new r.by([]),this.paginator={}}ngOnInit(){this.getBuses()}ngAfterViewInit(){this.dataSource.paginator=this.paginator}add(){this.dialogService.openAddEditDialog(x,"lg",!1).afterClosed().subscribe(n=>{n.fireRefresh&&this.getBuses()})}update(n){this.dialogService.openAddEditDialog(x,"lg",!0,n).afterClosed().subscribe(i=>{i.fireRefresh&&this.getBuses()})}delete(n){this.dialogService.openConfirmDeleteDialog(n.name).afterClosed().subscribe(i=>{i&&i.confirmDelete&&this.fireStoreService.delete(`${f.g.RealtimeDatabase.buses}/${n.id}`).subscribe(()=>{this.getBuses(),this.notifyService.showNotifier(this.translationService.instant("notifications.createdSuccessfully"))})})}getBuses(){this.fireStoreService.getAll(f.g.RealtimeDatabase.buses).subscribe(n=>{this.dataSource.data=n})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(m.TB),t.Y36(m.xA),t.Y36(m.c),t.Y36(m.D7))},e.\u0275cmp=t.Xpm({type:e,selectors:[["ng-component"]],viewQuery:function(n,i){if(1&n&&t.Gf(C.NW,5),2&n){let s;t.iGM(s=t.CRH())&&(i.paginator=s.first)}},decls:8,vars:5,consts:[[1,"container-fluid","table-container"],[1,"row","mx-0","my-3"],["color","primary","mat-raised-button","",3,"click"],["class","mat-elevation-z8",4,"ngIf","ngIfElse"],["emptyData",""],[1,"mat-elevation-z8"],[1,"table-content"],["mat-table","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","col-3",4,"matCellDef"],["matColumnDef","price"],["mat-cell","","class","w-100",4,"matCellDef"],["matColumnDef","actions"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions","length"],["mat-header-cell",""],["mat-cell","",1,"col-3"],["mat-cell","",1,"w-100"],["mat-cell",""],[1,"d-flex"],["mat-icon-button","","color","primary",3,"click"],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(n,i){if(1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"button",2),t.NdJ("click",function(){return i.add()}),t._uU(3),t.ALo(4,"translate"),t.qZA()(),t.YNc(5,I,15,6,"div",3),t.qZA(),t.YNc(6,q,1,0,"ng-template",null,4,t.W1O)),2&n){const s=t.MAs(7);t.xp6(3),t.hij(" ",t.lcZ(4,3,"bus.add")," "),t.xp6(2),t.Q6J("ngIf",i.dataSource.data.length>0)("ngIfElse",s)}},dependencies:[A.M,Z.O5,p.lW,p.RK,_.Hw,C.NW,r.BZ,r.fO,r.as,r.w1,r.Dz,r.nj,r.ge,r.ev,r.XQ,r.Gk,B.X$],encapsulation:2}),e})()}];let O=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[v.Bz.forChild(F),v.Bz]}),e})();var Q=a(3306);let L=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[Q.m,O]}),e})()}}]);