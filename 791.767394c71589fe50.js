"use strict";(self.webpackChunkconferences_reservation=self.webpackChunkconferences_reservation||[]).push([[791],{4791:(pt,p,o)=>{o.r(p),o.d(p,{PrimaryModule:()=>ut});var s=o(9116),m=o(671),d=o(9406),f=o(8135),t=o(4650),g=o(536),l=o(6895),v=o(4859),u=o(1561),x=o(6308),Z=o(9383);function y(n,i){1&n&&(t.TgZ(0,"th",24),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"common.name")))}function C(n,i){if(1&n&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.name," ")}}function h(n,i){1&n&&(t.TgZ(0,"th",24),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"common.adultsCount")))}function T(n,i){if(1&n&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e.adultsCount)}}function A(n,i){1&n&&(t.TgZ(0,"th",24),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"common.childrenCount")))}function P(n,i){if(1&n&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e.childrenCount)}}function S(n,i){1&n&&(t.TgZ(0,"th",24),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"common.room")))}function q(n,i){if(1&n&&(t.ynx(0),t._uU(1),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.room," ")}}function N(n,i){1&n&&t._uU(0,"---")}function Y(n,i){if(1&n&&(t.TgZ(0,"td",25),t.YNc(1,q,2,1,"ng-container",26),t.YNc(2,N,1,0,"ng-template",null,27,t.W1O),t.qZA()),2&n){const e=i.$implicit,a=t.MAs(3);t.xp6(1),t.Q6J("ngIf",e.room)("ngIfElse",a)}}function b(n,i){1&n&&(t.TgZ(0,"th",24),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"common.bookingType")))}function U(n,i){1&n&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"common.individual")," "))}function k(n,i){1&n&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"common.group")," "))}function D(n,i){if(1&n&&(t.TgZ(0,"td",25),t.ynx(1,28),t.YNc(2,U,3,3,"div",29),t.YNc(3,k,3,3,"div",30),t.BQk(),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngSwitch",e.bookingType),t.xp6(1),t.Q6J("ngSwitchCase",1)}}function Q(n,i){1&n&&(t.TgZ(0,"th",24),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"common.bookingDate")))}function O(n,i){if(1&n&&(t.TgZ(0,"td",25),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,e.bookingDate.toMillis()))}}function L(n,i){1&n&&(t.TgZ(0,"th",24),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"common.totalCost")))}function w(n,i){if(1&n&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e.age)}}function B(n,i){1&n&&(t.TgZ(0,"th",24),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"common.paid")))}function J(n,i){if(1&n&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e.paid)}}function M(n,i){1&n&&(t.TgZ(0,"th",24),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"common.remaining")))}function $(n,i){if(1&n&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e.remaining)}}function R(n,i){1&n&&(t.TgZ(0,"th",24),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"common.bookingStatus")))}function j(n,i){1&n&&(t.TgZ(0,"div")(1,"div",31),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"bookingStatus.confirmed")))}function I(n,i){1&n&&(t.TgZ(0,"div")(1,"div",32),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.hij("",t.lcZ(3,1,"bookingStatus.duplicated")," "))}function E(n,i){1&n&&(t.TgZ(0,"div")(1,"div",33),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.hij("",t.lcZ(3,1,"bookingStatus.canceled")," "))}function F(n,i){1&n&&(t.TgZ(0,"div")(1,"div",34),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"bookingStatus.new")))}function z(n,i){if(1&n&&(t.TgZ(0,"td",25),t.ynx(1,28),t.YNc(2,j,4,3,"div",29),t.YNc(3,I,4,3,"div",29),t.YNc(4,E,4,3,"div",29),t.YNc(5,F,4,3,"div",30),t.BQk(),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngSwitch",e.bookingStatus),t.xp6(1),t.Q6J("ngSwitchCase",2),t.xp6(1),t.Q6J("ngSwitchCase",3),t.xp6(1),t.Q6J("ngSwitchCase",4)}}function H(n,i){1&n&&(t.TgZ(0,"th",24),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"common.notes")))}function K(n,i){if(1&n&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e.userNotes)}}function G(n,i){1&n&&(t.TgZ(0,"th",24),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"common.bookingStatus")))}function W(n,i){1&n&&(t.TgZ(0,"div")(1,"div",31),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"bookingStatus.confirmed")))}function X(n,i){1&n&&(t.TgZ(0,"div")(1,"div",32),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.hij("",t.lcZ(3,1,"bookingStatus.duplicated")," "))}function V(n,i){1&n&&(t.TgZ(0,"div")(1,"div",33),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.hij("",t.lcZ(3,1,"bookingStatus.canceled")," "))}function tt(n,i){1&n&&(t.TgZ(0,"div")(1,"div",34),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"bookingStatus.new")))}function nt(n,i){if(1&n&&(t.TgZ(0,"td",25),t.ynx(1,28),t.YNc(2,W,4,3,"div",29),t.YNc(3,X,4,3,"div",29),t.YNc(4,V,4,3,"div",29),t.YNc(5,tt,4,3,"div",30),t.BQk(),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngSwitch",e.bookingStatus),t.xp6(1),t.Q6J("ngSwitchCase",2),t.xp6(1),t.Q6J("ngSwitchCase",3),t.xp6(1),t.Q6J("ngSwitchCase",4)}}function it(n,i){1&n&&t._UZ(0,"th",24)}function et(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"td",25)(1,"button",35),t._UZ(2,"i",36),t.qZA(),t.TgZ(3,"mat-menu",null,37)(5,"button",38),t.NdJ("click",function(){const c=t.CHM(e).$implicit,_=t.oxw(2);return t.KtG(_.update(c))}),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"button",39),t.NdJ("click",function(){const c=t.CHM(e).$implicit,_=t.oxw(2);return t.KtG(_.delete(c))}),t._uU(9),t.ALo(10,"translate"),t.qZA()()()}if(2&n){const e=t.MAs(4);t.xp6(1),t.Q6J("matMenuTriggerFor",e),t.xp6(5),t.Oqu(t.lcZ(7,3,"common.edit")),t.xp6(3),t.Oqu(t.lcZ(10,5,"common.delete"))}}function ot(n,i){1&n&&t._UZ(0,"tr",40)}function at(n,i){1&n&&t._UZ(0,"tr",41)}function mt(n,i){if(1&n&&(t.TgZ(0,"div",3)(1,"div",4)(2,"table",5),t.ynx(3,6),t.YNc(4,y,3,3,"th",7),t.YNc(5,C,2,1,"td",8),t.BQk(),t.ynx(6,9),t.YNc(7,h,3,3,"th",7),t.YNc(8,T,2,1,"td",8),t.BQk(),t.ynx(9,10),t.YNc(10,A,3,3,"th",7),t.YNc(11,P,2,1,"td",8),t.BQk(),t.ynx(12,11),t.YNc(13,S,3,3,"th",7),t.YNc(14,Y,4,2,"td",8),t.BQk(),t.ynx(15,12),t.YNc(16,b,3,3,"th",7),t.YNc(17,D,4,2,"td",8),t.BQk(),t.ynx(18,13),t.YNc(19,Q,3,3,"th",7),t.YNc(20,O,3,3,"td",8),t.BQk(),t.ynx(21,14),t.YNc(22,L,3,3,"th",7),t.YNc(23,w,2,1,"td",8),t.BQk(),t.ynx(24,15),t.YNc(25,B,3,3,"th",7),t.YNc(26,J,2,1,"td",8),t.BQk(),t.ynx(27,16),t.YNc(28,M,3,3,"th",7),t.YNc(29,$,2,1,"td",8),t.BQk(),t.ynx(30,17),t.YNc(31,R,3,3,"th",7),t.YNc(32,z,6,4,"td",8),t.BQk(),t.ynx(33,18),t.YNc(34,H,3,3,"th",7),t.YNc(35,K,2,1,"td",8),t.BQk(),t.ynx(36,19),t.YNc(37,G,3,3,"th",7),t.YNc(38,nt,6,4,"td",8),t.BQk(),t.ynx(39,20),t.YNc(40,it,1,0,"th",7),t.YNc(41,et,11,7,"td",8),t.BQk(),t.YNc(42,ot,1,0,"tr",21),t.YNc(43,at,1,0,"tr",22),t.qZA()(),t.TgZ(44,"div",23),t._uU(45),t.ALo(46,"translate"),t.qZA()()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("dataSource",e.dataSource),t.xp6(40),t.Q6J("matHeaderRowDef",e.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns),t.xp6(2),t.AsE(" ",t.lcZ(46,5,"common.total"),": ",e.total," ")}}function ct(n,i){1&n&&t._UZ(0,"app-empty-data")}const rt=[{path:"",component:(()=>{class n{constructor(e,a,r,c){this.fireStoreService=e,this.dialogService=a,this.notifyService=r,this.translationService=c,this.total=0,this.displayedColumns=["name","adultsCount","childrenCount","roomId","bookingType","bookingDate","totalCost","paid","remaining","userNotes","bookingStatus","actions"],this.dataSource=new m.by([])}ngOnInit(){this.getPrimaryTickets()}update(e){this.dialogService.openAddEditDialog(f.D,"lg",!0,e).afterClosed().subscribe(a=>{a.fireRefresh&&this.getPrimaryTickets(2)})}delete(e){e.name&&this.dialogService.openConfirmDeleteDialog(e.name).afterClosed().subscribe(a=>{a&&a.confirmDelete&&e.id&&this.fireStoreService.getPrimaryWithRelatedParticipants(e.id).subscribe(r=>{const c=r.map(_=>_.id);c&&c.length>0&&this.fireStoreService.deleteReservation(c).subscribe(()=>{this.notifyService.showNotifier(this.translationService.instant("notifications.removedSuccessfully")),this.getPrimaryTickets()})})})}getPrimaryTickets(e=1){this.fireStoreService.getPrimarySubscription(e).subscribe(a=>{this.dataSource.data=a,this.total=a.length})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(d.TB),t.Y36(d.xA),t.Y36(d.c),t.Y36(d.D7))},n.\u0275cmp=t.Xpm({type:n,selectors:[["ng-component"]],decls:4,vars:2,consts:[[1,"container-fluid","table-container"],["class","mat-elevation-z8 mt-3",4,"ngIf","ngIfElse"],["emptyData",""],[1,"mat-elevation-z8","mt-3"],[1,"table-content"],["mat-table","","matSort","","matSortActive","name",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","adultsCount"],["matColumnDef","childrenCount"],["matColumnDef","roomId"],["matColumnDef","bookingType"],["matColumnDef","bookingDate"],["matColumnDef","totalCost"],["matColumnDef","paid"],["matColumnDef","remaining"],["matColumnDef","bookingStatus"],["matColumnDef","userNotes"],["matColumnDef","status"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"d-flex","justify-content-start","p-3"],["mat-header-cell",""],["mat-cell",""],[4,"ngIf","ngIfElse"],["empty",""],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"badge","px-2","py-1","badge-info"],[1,"badge","px-2","py-1","badge-warning"],[1,"badge","px-2","py-1","badge-danger"],[1,"badge","px-2","py-1","badge-success"],["mat-icon-button","","color","primary",3,"matMenuTriggerFor"],[1,"fa-solid","fa-ellipsis"],["menu","matMenu"],["mat-menu-item","",1,"primary",3,"click"],["mat-menu-item","",1,"text-danger",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,a){if(1&e&&(t.TgZ(0,"div",0),t.YNc(1,mt,47,7,"div",1),t.qZA(),t.YNc(2,ct,1,0,"ng-template",null,2,t.W1O)),2&e){const r=t.MAs(3);t.xp6(1),t.Q6J("ngIf",a.dataSource.data.length>0)("ngIfElse",r)}},dependencies:[g.M,l.O5,l.RF,l.n9,l.ED,v.RK,u.VK,u.OP,u.p6,x.YE,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,l.uU,Z.X$],encapsulation:2}),n})()}];let lt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[s.Bz.forChild(rt),s.Bz]}),n})();var _t=o(3306),dt=o(8788);let ut=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[_t.m,dt.D,lt]}),n})()}}]);